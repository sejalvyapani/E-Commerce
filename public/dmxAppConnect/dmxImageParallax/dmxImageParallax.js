/*!
 DMXzone Image Parallax
 Version: 1.0.0
 (c) 2019 DMXzone.com
 @build 2019-05-28 14:44:35
 */
dmx.imageParallax={running:!1,elements:[],lastPosition:-1,start:function(e){dmx.imageParallax.elements.push(e);var a=e.dmxImageParallax;a.container=e,a.overflow||(a.container=dmx.imageParallax.wrap(e),e.style.transform="scale("+a.scale+")"),0<a.delay&&(e.style.transition="transform "+a.delay+"s "+a.transition),e.style.willChange="transform",dmx.imageParallax.running||(dmx.imageParallax.running=!0,requestAnimationFrame(dmx.imageParallax.animate))},stop:function(){dmx.imageParallax.running=!1},animate:function(){dmx.imageParallax.running&&(dmx.imageParallax.elements.forEach(function(e){dmx.imageParallax.updateElement(e)}),requestAnimationFrame(dmx.imageParallax.animate))},wrap:function(e){var a=document.createElement("div");return a.className=e.className,a.style.display="inline-block",a.style.overflow="hidden",e.parentNode.insertBefore(a,e),a.appendChild(e),a},updateElement:function(e){if(e.offsetParent){var a=e.dmxImageParallax,t=a.container.getBoundingClientRect();if(0!==t.width&&0!==t.height){var n=dmx.imageParallax.getScrollParent(e);if(n==window)var i={top:0,left:0,right:window.innerWidth,bottom:window.innerHeight,width:window.innerWidth,height:window.innerHeight};else i=n.getBoundingClientRect();if(!(t.bottom<i.top||t.top>i.bottom)){var r=(i.bottom-t.top)/(i.height+t.height),l=e.clientHeight*a.scale-e.clientHeight,o=~~(r*l-l/2),m=0,d=0;-1!=a.orientation.indexOf("left")&&(m=-o),-1!=a.orientation.indexOf("right")&&(m=o),-1!=a.orientation.indexOf("up")&&(d=-o),-1!=a.orientation.indexOf("down")&&(d=o);var s="translate3d("+m+"px, "+d+"px, 0)";a.overflow||(s+=" scale("+a.scale+")"),e.style.transform!=s&&(e.style.transform=s)}}}},isScrollParent:function(e){try{var a=window.getComputedStyle(e);return/(auto|scroll)/.test(a.overflow+a.overflowX+a.overflowY)}catch(e){return!1}},getScrollParent:function(e){return e?dmx.imageParallax.isScrollParent(e)?e:dmx.imageParallax.getScrollParent(e.parentNode):window}},dmx.Attribute("image-parallax","mounted",function(e,a){e.dmxImageParallax={scale:a.modifiers.scale?a.modifiers.scale/100:1.3,delay:a.modifiers.delay?a.modifiers.delay/1e3:.4,overflow:!!a.modifiers.overflow,transition:"cubic-bezier(0,0,0,1)",orientation:a.value||"up"},dmx.imageParallax.start(e)});
//# sourceMappingURL=../maps/dmxImageParallax.js.map
